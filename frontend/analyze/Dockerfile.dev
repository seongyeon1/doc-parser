# ğŸ“Š Analyze Data Processing - Development Dockerfile
FROM python:3.11-slim

# ì‘ì—… ë””ë ‰í† ë¦¬ ì„¤ì •
WORKDIR /app

# ì‹œìŠ¤í…œ íŒ¨í‚¤ì§€ ì—…ë°ì´íŠ¸ ë° í•„ìš”í•œ íŒ¨í‚¤ì§€ ì„¤ì¹˜
RUN apt-get update && apt-get install -y \
    curl \
    git \
    vim \
    && rm -rf /var/lib/apt/lists/*

# Python ì˜ì¡´ì„± íŒŒì¼ ë³µì‚¬ ë° ì„¤ì¹˜
COPY requirements.txt .
RUN pip install --no-cache-dir -r requirements.txt

# ê°œë°œ ë„êµ¬ ì„¤ì¹˜
RUN pip install --no-cache-dir \
    pytest \
    pytest-cov \
    black \
    flake8 \
    ipython

# í•„ìš”í•œ ë””ë ‰í† ë¦¬ ìƒì„±
RUN mkdir -p data result

# í¬íŠ¸ ë…¸ì¶œ
EXPOSE 8080

# í—¬ìŠ¤ì²´í¬ë¥¼ ìœ„í•œ curl ì„¤ì¹˜ í™•ì¸
RUN curl --version

# ê°œë°œ ëª¨ë“œ ì‹¤í–‰ (ë³¼ë¥¨ ë§ˆìš´íŠ¸ë¡œ ì½”ë“œ ë³€ê²½ ì‹œ ìë™ ë°˜ì˜)
CMD ["python", "-u", "serve_files.py"]
